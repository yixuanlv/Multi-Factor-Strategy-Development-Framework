# Multi-Factor Strategy Development Framework

<div align="center">

![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)
![License](https://img.shields.io/badge/License-MIT-green.svg)
![Status](https://img.shields.io/badge/Status-Active-brightgreen.svg)

**一个完整的量化投资多因子策略开发框架**

*从因子构造到策略回测的全流程解决方案*

[项目介绍](#项目介绍) • [功能特性](#功能特性) • [快速开始](#快速开始) • [项目结构](#项目结构) • [使用指南](#使用指南) • [贡献指南](#贡献指南)

</div>

---

## 📋 项目介绍

**Multi-Factor Strategy Development Framework** 是一个基于RQAlpha的完整多因子量化策略开发框架，旨在为量化投资提供从因子构造到策略回测的全流程解决方案。

### 🎯 核心价值

- **全流程覆盖**：从数据获取、因子构造、数据处理到策略回测的完整链路
- **模块化设计**：各功能模块独立，便于维护和扩展
- **实盘对接**：支持实盘交易接口，便于策略落地
- **参数化配置**：支持灵活的参数调整和优化

### 🚀 主要特性

- 📊 **多维度因子库**：量价因子、基本面因子、复合因子
- 🔧 **智能数据处理**：去极值、标准化、中性化处理
- 📈 **全面因子测试**：IC分析、分层回测、多空测试
- 🎯 **策略构建工具**：多种资产配置方法和参数优化
- 💼 **实盘交易支持**：迅投QMT等实盘接口对接

---

## 🏗️ 功能特性

### 📊 因子库管理
- **量价因子**：基于价格、成交量、换手率等市场数据构造的技术因子
- **基本面因子**：包括成长能力、盈利能力、营运能力等财务指标因子
- **复合因子**：支持多种加权方式（一元回归、排序、IC加权、多元回归、PCA分解）

### 🔧 数据处理
- **去极值处理**：均值方差法、中位数法、分位数法
- **标准化处理**：Z-Score转换
- **中性化处理**：行业中性、市值中性

### 📈 因子测试
- **单因子测试**：IC分析、Rank IC分析、多空回测、分层回测
- **多因子集中测试**：多因子综合性能评估
- **共线性分析**：因子间相关性分析，避免因子冗余

### 🎯 策略构建
- **资产配置**：等权配置、马科维兹最优权重、最小方差组合
- **参数优化**：支持分层数量、调仓周期、目标组号等参数网格搜索
- **回测分析**：完整的策略回测统计指标和可视化分析

---

## 🚀 快速开始

### 环境要求

- Python 3.8+
- RQAlpha
- pandas, numpy, matplotlib
- 其他依赖见 `requirements.txt`

### 安装步骤

```bash
# 克隆项目
git clone https://github.com/yixuanlv/Multi-Factor-Strategy-Development-Framework.git

# 进入项目目录
cd Multi-Factor-Strategy-Development-Framework

# 安装依赖
pip install -r requirements.txt
```

### 快速体验

```python
# 运行单因子测试示例
cd 多因子框架/单因子测试
python main.py

# 运行多因子集中测试
cd 多因子框架/多因子集中测试
python main.py
```

---

## 📁 项目结构

```
Multi-Factor-Strategy-Development-Framework/
├── 📊 多因子框架/                    # 核心框架模块
│   ├── 📈 因子库/                   # 因子数据存储
│   ├── 🔧 因子构造/                 # 因子构造模块
│   ├── 📊 数据处理/                 # 数据预处理模块
│   ├── 📈 单因子测试/               # 单因子分析
│   ├── 🔍 多因子集中测试/           # 多因子综合分析
│   ├── 📊 共线性分析/               # 因子相关性分析
│   ├── 🎯 因子复合/                 # 因子组合优化
│   ├── 🚀 构建策略/                 # 策略构建模块
│   ├── 📊 测试结果/                 # 回测结果存储
│   └── 💾 行情数据库/               # 市场数据存储
├── 🎯 策略模板/                     # 策略模板库
│   ├── 📈 1_股票多头/              # 股票多头策略
│   ├── 📉 2_期货空头/              # 期货空头策略
│   └── ⚖️ 3_多空中性/              # 多空中性策略
├── 💼 实盘对接/                     # 实盘交易接口
│   ├── 🔗 real_trading/            # 实盘交易模块
│   └── 📚 实盘参考资料/            # 实盘文档资料
├── 🧪 测试代码/                     # 测试和验证代码
│   ├── 📊 回测参数/                # 回测参数配置
│   ├── 📈 回测结果/                # 回测结果存储
│   ├── 📊 因子数据/                # 因子数据生成
│   └── 🎯 策略函数/                # 策略函数库
└── 🔧 fuctions9/                   # 工具函数库
```

---

## 📖 使用指南

### 1. 因子构造流程

```python
# 1. 数据获取
# 获取标的池数据，包括开盘价、收盘价、成交量等

# 2. 因子构造
# 基于历史数据滚动构造因子值
# 支持量价因子、基本面因子等多种类型

# 3. 数据处理
# 去极值 → 标准化 → 中性化
```

### 2. 因子测试流程

```python
# 1. 单因子测试
# - IC分析、Rank IC分析
# - 多空回测、分层回测

# 2. 多因子集中测试
# - 多因子综合性能评估
# - 因子间相关性分析

# 3. 共线性分析
# - 避免因子冗余
# - 优化因子组合
```

### 3. 策略构建流程

```python
# 1. 因子复合
# - 多种加权方式
# - 参数优化

# 2. 策略构建
# - 资产配置方法选择
# - 参数网格搜索

# 3. 回测分析
# - 完整统计指标
# - 可视化分析
```

---

## 🎯 策略模板

### 股票多头策略
- **小市值策略**：基于市值因子的选股策略
- **成长策略**：基于成长因子的选股策略

### 期货空头策略
- **升贴水空头**：基于期货升贴水的空头策略

### 多空中性策略
- **市场中性**：多空对冲的市场中性策略

---

## 💼 实盘对接

### 支持的平台
- **迅投QMT**：完整的Python API支持
- **其他平台**：可扩展其他交易接口

### 实盘文档
- 迅投QMT Python API说明文档
- VBA模型编辑使用手册
- 极速策略交易系统说明文档

---

## 📊 测试结果

项目包含完整的测试结果展示，所有分析图表和报告都保存在 `多因子框架/测试结果/` 目录中：

### 📈 多因子集中测试结果
- **多因子性能对比汇总**：[多因子集中测试_分析结果.png](多因子框架/测试结果/多因子集中测试结果/多因子集中测试_分析结果.png)
- **多因子统计指标**：[多因子统计指标.csv](多因子框架/测试结果/多因子集中测试结果/多因子统计指标.csv)
- **多因子IC序列**：[多因子IC序列.csv](多因子框架/测试结果/多因子集中测试结果/多因子IC序列.csv)
- **多因子累计IC序列**：[多因子累计IC序列.csv](多因子框架/测试结果/多因子集中测试结果/多因子累计IC序列.csv)

### 🎯 单因子测试结果
- **STR因子分析**：[str_full_analysis.png](多因子框架/测试结果/str/str_full_analysis.png)
- **复合因子分析**：[multivariate_rolling_120_复合因子_full_analysis.png](多因子框架/测试结果/multivariate_rolling_120_复合因子/multivariate_rolling_120_复合因子_full_analysis.png)

### 📊 详细数据文件
- **各因子分组收益率**：包含beta、book_to_price、earnings_yield、growth、leverage、liquidity、momentum、residual_volatility、size、str等因子的详细回测数据
- **多空组合收益率**：各因子第1层倒1层、第2层倒2层多空组合的收益率数据
- **多头超额收益率**：各因子第1层、第2层多头组合的超额收益率数据

### 📋 测试报告内容
- **单因子测试报告**：IC分析、Rank IC分析、多空回测、分层回测
- **多因子集中测试结果**：多因子综合性能评估
- **共线性分析报告**：因子间相关性分析
- **策略回测结果**：完整的策略回测统计指标和可视化分析

---

## 🤝 贡献指南

我们欢迎所有形式的贡献！

### 贡献方式
1. **提交Issue**：报告bug或提出新功能建议
2. **提交Pull Request**：贡献代码改进
3. **完善文档**：改进项目文档
4. **分享经验**：分享使用经验和最佳实践

### 开发规范
- 遵循Python PEP 8代码规范
- 添加适当的注释和文档
- 确保代码通过测试

---

## 📄 许可证

本项目采用 [MIT License](LICENSE) 许可证。

---

## 👨‍💻 作者

**吕一轩** - 量化投资研究员

- 📧 Email: 2939105673@qq.com
- 🌐 GitHub: [@yixuanlv](https://github.com/yixuanlv)

---

## 🙏 致谢

感谢所有为这个项目做出贡献的开发者和用户！

---

<div align="center">

**如果这个项目对你有帮助，请给它一个 ⭐️**

*让量化投资变得更简单*

</div>
